@import 'tailwindcss';
@import 'driver.js/dist/driver.css';

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
}

/* ─── Haven Product Tour — Premium Styling ─── */

/* Overlay — subtle frosted glass so the dashboard is still visible */
.driver-overlay {
  background: rgba(15, 23, 42, 0.25) !important;
  backdrop-filter: blur(6px) !important;
  -webkit-backdrop-filter: blur(6px) !important;
}

/* Popover container */
.driver-popover {
  background: #ffffff !important;
  border-radius: 20px !important;
  box-shadow: 0 25px 60px -12px rgba(0, 0, 0, 0.25),
              0 0 0 1px rgba(0, 0, 0, 0.05),
              0 0 40px 8px rgba(15, 23, 42, 0.08) !important;
  padding: 0 !important;
  max-width: 420px !important;
  overflow: hidden;
  animation: haven-tour-enter 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  /* Force GPU compositing for crisp rendering */
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

@keyframes haven-tour-enter {
  from { opacity: 0; transform: translateY(8px) scale(0.97); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

/* Title */
.driver-popover-title {
  font-size: 18px !important;
  font-weight: 700 !important;
  color: #0f172a !important;
  padding: 24px 24px 0 24px !important;
  margin: 0 !important;
  line-height: 1.3 !important;
}

/* Description */
.driver-popover-description {
  font-size: 14px !important;
  color: #475569 !important;
  line-height: 1.65 !important;
  padding: 12px 24px 20px 24px !important;
  margin: 0 !important;
}

/* Progress text */
.driver-popover-progress-text {
  font-size: 11px !important;
  color: #94a3b8 !important;
  font-weight: 500 !important;
  letter-spacing: 0.02em !important;
  padding: 0 24px !important;
}

/* Footer */
.driver-popover-footer {
  padding: 12px 24px 20px 24px !important;
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
}

/* Buttons — clean, crisp */
.driver-popover-footer button {
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  height: 36px !important;
  min-width: 36px !important;
  padding: 0 14px !important;
  border-radius: 18px !important;
  font-size: 14px !important;
  font-weight: 500 !important;
  line-height: 1 !important;
  transition: background-color 0.15s ease, transform 0.15s ease !important;
  cursor: pointer !important;
  border: 1px solid transparent !important;
  -webkit-font-smoothing: antialiased !important;
}

.driver-popover-next-btn {
  background-color: #059669 !important;
  color: #ffffff !important;
  border-color: #059669 !important;
}

.driver-popover-next-btn:hover {
  background-color: #047857 !important;
  border-color: #047857 !important;
  transform: translateY(-1px) !important;
}

.driver-popover-prev-btn {
  background-color: #f8fafc !important;
  color: #64748b !important;
  border-color: #e2e8f0 !important;
}

.driver-popover-prev-btn:hover {
  background-color: #f1f5f9 !important;
  color: #334155 !important;
  transform: translateY(-1px) !important;
}

/* Close button */
.driver-popover-close-btn {
  color: #94a3b8 !important;
  width: 32px !important;
  height: 32px !important;
  font-size: 20px !important;
  right: 12px !important;
  top: 12px !important;
}

.driver-popover-close-btn:hover {
  color: #475569 !important;
  background: #f1f5f9 !important;
  border-radius: 8px !important;
}

/* Arrow */
.driver-popover-arrow {
  border: none !important;
}

/* ─── Custom tour content classes ─── */

/* Image-based hero banner (uses actual Haven artwork) */
.haven-tour-hero-image {
  position: relative;
  width: 100%;
  height: 300px;
  overflow: hidden;
  border-radius: 20px 20px 0 0;
}

.haven-tour-hero-image--short {
  height: 140px;
}

.haven-tour-hero-bg {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center bottom;
}

.haven-tour-hero-overlay {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-end;
  padding-bottom: 24px;
  z-index: 1;
  /* Gentle gradient from transparent top to slightly darker bottom for text legibility */
  background: linear-gradient(180deg, transparent 40%, rgba(15, 23, 42, 0.45) 100%);
}

/* Italic tagline overlaid on the hero image */
.haven-tour-tagline {
  font-family: Georgia, 'Times New Roman', serif;
  font-style: italic;
  font-size: 22px;
  font-weight: 400;
  color: #ffffff;
  margin: 0;
  letter-spacing: 0.01em;
  text-shadow: 0 2px 16px rgba(0, 0, 0, 0.5);
}

.haven-tour-body {
  padding: 20px 24px;
}

.haven-tour-body p {
  font-size: 14px;
  color: #475569;
  line-height: 1.7;
  margin: 0 0 12px 0;
}

.haven-tour-body p:last-child {
  margin-bottom: 0;
}

.haven-tour-highlight {
  color: #059669;
  font-weight: 600;
}

.haven-tour-pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: #f0fdf4;
  color: #059669;
  font-size: 12px;
  font-weight: 600;
  padding: 4px 12px;
  border-radius: 100px;
  border: 1px solid #bbf7d0;
  margin-top: 8px;
}

.haven-tour-features {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
  margin-top: 14px;
}

.haven-tour-feature {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  color: #334155;
  font-weight: 500;
  padding: 8px 10px;
  background: #f8fafc;
  border-radius: 8px;
  border: 1px solid #e2e8f0;
}

.haven-tour-feature-icon {
  font-size: 16px;
  flex-shrink: 0;
}

.haven-tour-tip {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  background: #fffbeb;
  border: 1px solid #fde68a;
  border-radius: 10px;
  padding: 12px 14px;
  margin-top: 14px;
  font-size: 12px;
  color: #92400e;
  line-height: 1.5;
}

.haven-tour-tip-icon {
  font-size: 16px;
  flex-shrink: 0;
  margin-top: 1px;
}

.haven-tour-finale {
  text-align: center;
  padding: 8px 0 0 0;
}

.haven-tour-finale .haven-tour-checkmarks {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 6px;
  margin: 14px 0;
}

.haven-tour-finale .haven-tour-check {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 11px;
  font-weight: 500;
  color: #059669;
  background: #f0fdf4;
  padding: 4px 10px;
  border-radius: 100px;
  border: 1px solid #bbf7d0;
}

/* Welcome/finale steps — large, centred, immersive popover */
.haven-tour-welcome-step {
  max-width: 700px !important;
  width: 92vw !important;
  border-radius: 20px !important;
  box-shadow: 0 32px 80px -16px rgba(0, 0, 0, 0.35),
              0 0 0 1px rgba(255, 255, 255, 0.08),
              0 0 60px 10px rgba(15, 23, 42, 0.15) !important;
}

.haven-tour-welcome-step .driver-popover-title {
  display: none !important;
}

.haven-tour-welcome-step .driver-popover-description {
  padding: 0 !important;
}

/* Highlight ring */
.driver-active-element {
  box-shadow: 0 0 0 4px rgba(5, 150, 105, 0.3) !important;
  border-radius: 8px !important;
}
